<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Strawberry Creek Voices (SCV)</title>
<meta name="description" content="Strawberry Creek Voices — continuous-flow manuscript, anchors, and community involvement." />
<style>
html, body {
  margin:0; padding:0; height:100%; font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  color:#111; background:#fefefc; overflow-x:hidden;
}
.wrap { max-width:1000px; margin:0 auto; padding:1rem 1.5rem; }

.hero {
  position:relative; width:100%; height:80vh; overflow:hidden; display:flex; align-items:center; justify-content:center;
  background:url('https://images.unsplash.com/photo-1503264116251-35a269479413?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80') center/cover no-repeat;
}
.hero::after {
  content:''; position:absolute; top:0; left:0; width:100%; height:100%;
  background:rgba(254,254,252,0.3);
}
.hero-content {
  position:relative; text-align:center; color:#111; text-shadow:0 2px 4px rgba(255,255,255,0.6);
}
.hero h1 { font-size:3rem; margin:0; }
.hero p { font-size:1.2rem; margin-top:0.5rem; }

#river-svg { width:100%; height:400px; margin:2rem 0; }

.anchor { fill:#1a73e8; cursor:pointer; transition: transform 0.3s ease; }
.anchor:hover { transform: scale(1.2); }

.anchor-hitarea { fill:transparent; cursor:pointer; }

.tooltip {
  position:absolute; padding:0.5rem 1rem; background:rgba(255,255,255,0.95);
  border:1px solid #ccc; border-radius:5px; font-size:0.9rem;
  pointer-events:none; display:none; z-index:10;
}

.reflections { position:fixed; right:1rem; top:0; width:250px; pointer-events:none; z-index:10; }
.reflection {
  position:absolute; padding:0.5rem 1rem; background:rgba(255,255,255,0.9);
  border-left:4px solid #1a73e8; border-radius:5px; opacity:0;
  font-size:0.9rem; color:#111;
  animation: drift 6s ease-in-out infinite alternate;
}
@keyframes drift { 0%{ transform: translateX(0); } 100%{ transform: translateX(15px); } }

.resources { display:flex; flex-wrap:wrap; gap:1rem; margin:2rem 0; }
.card { background:rgba(255,255,255,0.9); border-left:6px solid #1a73e8; padding:1rem; border-radius:10px;
       flex:1 1 250px; transition:transform 0.3s ease, box-shadow 0.3s ease; cursor:pointer; }
.card:hover { transform:translateY(-5px); box-shadow:0 10px 20px rgba(26,115,232,0.3); }

h2 { font-size:1.5rem; margin:2rem 0 0.5rem; }
.preview { background:#f9f9f9; padding:0.5rem 1rem; border-left:4px solid #1a73e8; margin-top:0.5rem; display:none; border-radius:5px; }

footer { margin-top:3rem; font-size:0.9rem; color:#444; border-top:1px solid #eee; padding-top:1rem; }
</style>
</head>
<body>

<!-- Hero -->
<div class="hero">
  <div class="hero-content">
    <h1>Strawberry Creek Voices</h1>
    <p>Continuous-flow manuscript, anchors, and community reflection</p>
  </div>
</div>

<div class="wrap">

  <!-- Continuous Flow card -->
  <h2>Continuous Flow Manuscript</h2>
  <div class="card" id="continuous-flow-card">→ Read Continuous Flow manuscript
    <div class="preview" id="continuous-flow-preview">
      Loading preview...
    </div>
  </div>

  <!-- River / Anchors -->
  <h2>Anchor Flow Along the Creek</h2>
  <p class="muted">Hover over each anchor to see its title and moral theme. Click to expand inline.</p>
  <svg id="river-svg">
    <path d="M50,350 C200,100 800,100 950,350" stroke="#1a73e8" stroke-width="4" fill="transparent"/>
    <!-- Anchors with invisible hit area for stable clicks -->
    <circle class="anchor-hitarea" cx="100" cy="300" r="20" data-target="anchor01"></circle>
    <circle class="anchor" cx="100" cy="300" r="12" data-title="Anchor 1 – The creek moves quietly…" data-theme="Smallness with dignity" data-link="https://remfan1994.github.io/strawberry-creek-voices/anchors/anchor01.md"></circle>

    <circle class="anchor-hitarea" cx="450" cy="150" r="20" data-target="anchor02"></circle>
    <circle class="anchor" cx="450" cy="150" r="12" data-title="Anchor 2 – At Dusk" data-theme="Motion as merciful" data-link="https://remfan1994.github.io/strawberry-creek-voices/anchors/anchor02.md"></circle>

    <circle class="anchor-hitarea" cx="800" cy="250" r="20" data-target="anchor03"></circle>
    <circle class="anchor" cx="800" cy="250" r="12" data-title="Anchor 3 – Harm absorbed, softened" data-theme="Patience and moral witness" data-link="https://remfan1994.github.io/strawberry-creek-voices/anchors/anchor03.md"></circle>
  </svg>
  <div class="tooltip" id="anchor-tooltip"></div>
  <div id="anchor-previews"></div>

  <!-- Floating reflections -->
  <div class="reflections">
    <div class="reflection" style="top:150px;">Notice the gentle motion of the water; it absorbs the day quietly.</div>
    <div class="reflection" style="top:500px;">Smallness is a dignity the creek quietly honors.</div>
    <div class="reflection" style="top:900px;">Attention itself is a moral act; witness without disturbance.</div>
  </div>

  <!-- Project resources -->
  <h2>Project Resources</h2>
  <div class="resources">
    <div class="card" onclick="window.open('https://remfan1994.github.io/strawberry-creek-voices/README.md','_blank')">Project README</div>
    <div class="card" onclick="window.open('https://remfan1994.github.io/strawberry-creek-voices/HUMAN-GENERATED/README__THE_RED_PILL.txt','_blank')">Human-generated notes</div>
    <div class="card" onclick="window.open('https://remfan1994.github.io/strawberry-creek-voices/HUMAN-GENERATED/LICENSE.md','_blank')">License</div>
    <div class="card" onclick="window.open('https://github.com/remfan1994/strawberry-creek-voices/issues','_blank')">Submit Reflections</div>
  </div>

  <!-- About -->
  <h2>About the Project</h2>
  <p>Strawberry Creek Voices is an ongoing manuscript composed of short “anchors” and transitions. It is intended as a reflective, contemplative experience — a literary work organized around attention and moral witness.</p>

  <!-- Contact -->
  <h2>Contact</h2>
  <p>For inquiries, contact: <strong>remfan1994@protonmail.com</strong></p>

</div>

<footer>
  <p class="muted">This page points to public materials for Strawberry Creek Voices. Alhamdulillah.</p>
</footer>

<script>
// Tooltip for anchors
const tooltip = document.getElementById('anchor-tooltip');
const previews = document.getElementById('anchor-previews');

// Handle hover and click
document.querySelectorAll('.anchor').forEach(anchor => {
  const hitarea = anchor.previousElementSibling; // corresponding invisible hit circle

  hitarea.addEventListener('mouseenter', e => {
    const title = anchor.getAttribute('data-title');
    const theme = anchor.getAttribute('data-theme');
    tooltip.innerHTML = `<strong>${title}</strong><br><em>${theme}</em>`;
    tooltip.style.display = 'block';
  });
  hitarea.addEventListener('mousemove', e => {
    tooltip.style.left = (e.pageX + 15) + 'px';
    tooltip.style.top = (e.pageY + 15) + 'px';
  });
  hitarea.addEventListener('mouseleave', e => {
    tooltip.style.display = 'none';
  });
  hitarea.addEventListener('click', e => {
    const title = anchor.getAttribute('data-title');
    const link = anchor.getAttribute('data-link');
    let existing = document.getElementById(link);
    if (!existing) {
      const card = document.createElement('div');
      card.className = 'preview';
      card.id = link;
      card.innerHTML = `<strong>${title}</strong><br>Loading content...`;
      previews.appendChild(card);
      fetch(link).then(r=>r.text()).then(text=>{
        card.innerHTML = `<strong>${title}</strong><pre style="white-space:pre-wrap;">${text}</pre>`;
      });
    } else {
      existing.style.display = existing.style.display==='none'?'block':'none';
    }
  });
});

// Floating reflections fade in
const reflections = document.querySelectorAll('.reflection');
window.addEventListener('scroll', ()=>{
  const scrollY = window.scrollY;
  reflections.forEach(ref=>{
    const top = parseInt(ref.style.top);
    if(scrollY + window.innerHeight > top + 50){
      ref.style.opacity = 1;
    } else {
      ref.style.opacity = 0;
    }
  });
});

// Continuous Flow preview
const flowCard = document.getElementById('continuous-flow-card');
const flowPreview = document.getElementById('continuous-flow-preview');
flowCard.addEventListener('click', ()=>{
  if(flowPreview.style.display==='block'){ flowPreview.style.display='none'; return; }
  flowPreview.style.display='block';
  fetch('https://remfan1994.github.io/strawberry-creek-voices/narrative/continuous_flow.md')
    .then(r=>r.text())
    .then(text=>{ flowPreview.innerHTML = `<pre style="white-space:pre-wrap;">${text}</pre>`; });
});
</script>
</body>
</html>
